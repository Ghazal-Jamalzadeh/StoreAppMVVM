Handle Dynamic Errors-------------------------------------------------------------------------------
توی کلاس NetworkResponse توی ارور 422 ممکنه با ارورهای داینامیک رو به رو شیم که فیلد رو در قالب کلید میفرستن برامون
{
  "message": "The given data was invalid.",
  "errors": {
    "login": [
      "ایمیل یا شماره موبایل نامعتبر است."
    ]
  }
}

دقت کنید هر چیزی ۲۰۰ نباشه در قالب ارور بادی برمیگرده بدنه ش (اگر بدنه داشته باشه)

            response.code() == 422 -> {
                var errorMessage = ""
                if (response.errorBody() != null) {

اول از همه جیسون رو تبدیل میکنیم به جی سان تا بتونیم به موارد مختلفش دسترسی داشته باشیم
پارامتر اولش بدنه ارور ما هست
که از ارور بادی میگیریم و charSequence ش میکنیم
پارامتر دوم میگه به چی تبدیلش کنم؟
                    val errorResponse = Gson().fromJson(response.errorBody()?.charStream(), ErrorResponse::class.java)

دسترسی به فیلد مسیج به این شکل هست که ما فعلا استفاده ش نمیکنیم
                    //val message = errorResponse.message

دسترسی به اون مپی که برای ارورز تعریف کردیم که فیلد داینامیک ما هست
                    val errors = errorResponse.errors
خب تا اینجای کار ما به اون مپه دسترسی پیدا کردیم. حالا دم بعدی چیه؟

ما خیلی راحت میتونیم مپ رو با فور ایچ پیمایش کنیم
پارامتر اولش key رو به ما میده و پارامتر دومش value
                    errors?.forEach { (key : String, value: List<String>) ->

نکته ای که اینجا هست اینه که ما لیست استرینگ هست ولیو هامون ولی استرینگ میخوایم
برای اینکه کاربر این کروشه ها رو نبینه []
خود لیست یک دستوری داره به اسم joinToString
کروشه اینا رو خودش پاک میکنه و یک استرینگ تمیز میده بمون
دستورات بیشتری هم برای کاستومایز بیشتر میتونیم بزنیم توش
                        errorMessage = value.joinToString()
                    }

                }

در نهایت ارور رو در قالب نتورک ریکوعست میدیم بیرون
                NetworkRequest.Error(errorMessage)
            }
